
    <div class = "outline">
    <div class ="heading">
    <h1 class = "text">Course Completion Review Form</h1>
  </div>
  <br>
    <div class ="heading3">
    <p>Congratulations on completing the specialized course! Please fill out the form below to request your completion certificate.</p>
    </div>
    <div class ="heading1">
    <form class="example-form" #feedbackForm="ngForm" class="form">
      <div class = "field">
        <div class ="margin1">
          <table class ="datepicker" cellspacing="0">
              <tr>
                  <td>
                      <mat-form-field class="example-full-width">
                      <mat-label>Name</mat-label>
                      <input matInput type = "Text" name = "name" [(ngModel)]="personData.name" >
                      </mat-form-field>
                  </td>
              </tr>
          </table>

          <table class ="datepicker" cellspacing="0">
              <tr>
                  <td>
                      <mat-form-field class="example-full-width">
                      <mat-label>Designation</mat-label>
                      <input matInput  type = "Text" name  = "designation" [(ngModel)]="personData.designation" >
                      </mat-form-field>
                  </td>
              </tr>
          </table>
          
          <table class ="datepicker" cellspacing="0">
              <tr>
                  <td>
                  <mat-form-field class="example-full-width">
                  <mat-label>Department</mat-label>
                  <input matInput  type = "Text" name ="department" [(ngModel)]="personData.department" >
                  </mat-form-field>
                  </td>
              </tr>
          </table>
          
          <table class ="datepicker" cellspacing="0">
            <tr>
                <td>
                <mat-form-field class="example-full-width">
                <mat-label>Email</mat-label>
                <input matInput  type = "Text" name ="email" >
                </mat-form-field>
                </td>
            </tr>
        </table>
        <br><br>
      
          
          <label style = "color: white; font-size: medium;">Upload Documents: </label>
          <div>
            <input type="file" id="myfile" name="myfile"  (change)="onFileChange($event)" multiple > 
          </div>

          <div *ngIf="update">
        
            <ul>
             
    
                <li *ngFor="let file of personData.files">
                  <button mat-icon-button (click)="downloadFile(personData.id, file.fileName)" >
                    <mat-icon color="primary">cloud_download</mat-icon>
                  </button>
    
                  <button mat-icon-button (click)="deletePersonAndFilesByFilename(personData.id, file.fileName)" >
                    <mat-icon mat-icon-button color="warn"><mat-icon>delete</mat-icon></mat-icon>
                  </button>
                  
                  {{ file.fileName }}
                </li>
    
    
    
            </ul>
            
          </div>
          
          
          <br><br><br>
          

          <p>
            <mat-form-field class ="datepicker1">
            <mat-label>Review</mat-label>
            <textarea matInput name="reviews" [(ngModel)]="personData.reviews" ></textarea>
            </mat-form-field>
          </p>
          
          <div class = "paragraph2">
            <button *ngIf="upload" mat-raised-button color="primary" (click)="onSubmit()" class = "submit ">Submit</button>
            <button *ngIf="update" mat-raised-button color="primary"  (click)= "onEdit()" class = "submit " >Update</button>
                <!-- <input type = "submit" value="Submit"  (click)="onSubmit()" class = "submit"> -->
          </div>

        </div>

        <div>
          <table class ="datepicker" cellspacing="0">
              <tr>
                  <td>
                  <mat-form-field class="example-full-width">
                  <mat-label>Id No.</mat-label>
                  <input matInput  type = "Text" name ="id_no" [(ngModel)]="personData.id_no" >
                  </mat-form-field>
                  </td>
              </tr>
          </table>

          <table class ="datepicker" cellspacing="0">
              <tr>
                  <td>
                  <mat-form-field class="example-full-width">
                  <mat-label>Mobile Number</mat-label>
                  <input matInput  type = "Text" name ="mobile_no" [(ngModel)]="personData.mobile_no" >
                  </mat-form-field>
                  </td>
              </tr>
          </table>

            <mat-form-field class ="datepicker">
              <mat-label>Choose a date</mat-label>
              <input matInput [matDatepicker]="picker"   name = "dob" [(ngModel)]="personData.dob"  placeholder="DD-MM-YYYY" autocomplete="off" readonly>
              <mat-hint></mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </div>    
      </div>
      
      
    </form>
    </div>
  </div>
  
    <!-- <form  #feedbackForm="ngForm" class="form">
      <label>Name: </label>
      <input type = "Text" name = "name" class = "input" [(ngModel)]="personData.name">
      <br>
  
      <label>Designation: </label>
      <input type = "text" name  = "designation" class ="input" [(ngModel)]="personData.designation">
      <br>
  
      <label>Department: </label>
      <input type = "text" name ="department" class = "input" [(ngModel)]="personData.department">
      <br>
  
  
      <label>Id No.: </label>
      <input type = "text" name = "id_no" class ="input" [(ngModel)]="personData.id_no">
      <br>
  
      
      <label>DOB: </label>
      <input type = "date" name = "dob" class = "input"  [(ngModel)]="personData.dob">
      <br>                 
      
  
      <label>Review: </label>
      <textarea name="reviews" rows="10" cols="10"  style="width:500px; height: 250px;" [(ngModel)]="personData.reviews">
        abc
      </textarea>
      <br>
  
      <input type = "submit" value="Submit"  (click)="onSubmit()" class = "submit">
    </form> -->


    
    <table mat-table  [dataSource]="dataSource"  class="mat-elevation-z8 ">

        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>ID</th>
          <td mat-cell *matCellDef="let person">{{ person.id }}</td>
        </ng-container>
    
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let person">{{ person.name }}</td>
        </ng-container>
    
        <ng-container matColumnDef="designation">
          <th mat-header-cell *matHeaderCellDef>Designation</th>
          <td mat-cell *matCellDef="let person">{{ person.designation }}</td>
        </ng-container>
    
        <ng-container matColumnDef="department">
          <th mat-header-cell *matHeaderCellDef>Department</th>
          <td mat-cell *matCellDef="let person">{{ person.department }}</td>
        </ng-container>
    
        <ng-container matColumnDef="id_no">
            <th mat-header-cell *matHeaderCellDef>Id No.</th>
            <td mat-cell *matCellDef="let person">{{ person.id_no }}</td>
          </ng-container>
        
        <ng-container matColumnDef="mobile_no">
            <th mat-header-cell *matHeaderCellDef>Mobile No.</th>
            <td mat-cell *matCellDef="let person">{{ person.mobile_no }}</td>
          </ng-container>
          
        <ng-container matColumnDef="dob">
            <th mat-header-cell *matHeaderCellDef>Date</th>
            <td mat-cell *matCellDef="let person">{{ person.dob|date }}</td>
          </ng-container>
      

          <ng-container matColumnDef="reviews">
            <th mat-header-cell *matHeaderCellDef>Reviews</th>
            <td mat-cell *matCellDef="let person">{{ person.reviews }}</td>
          </ng-container>

          <ng-container matColumnDef="files">
            <th mat-header-cell *matHeaderCellDef> Document Upload </th>
            <mat-cell *matCellDef="let element">
              <ul>
                <li *ngFor="let file of element.files">
                  <button mat-icon-button (click)="downloadFile(element.id, file.fileName)" >
                    <mat-icon color="primary">cloud_download</mat-icon>
                  </button>
                  
                  {{ file.fileName }}
                </li>
              </ul>
            </mat-cell>
          </ng-container>
      

          <!-- <ng-container matColumnDef="deleteFlag">
            <th mat-header-cell *matHeaderCellDef>DeleteFlag</th>
            <td mat-cell *matCellDef="let person">{{ person.deleteFlag }}</td>
          </ng-container>
     -->
    
    
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef >Action</th>
          <td mat-cell *matCellDef="let element" style="text-align: left;font-size: 1rem;">
          
          <button mat-icon-button color="primary" (click)="setUpdate(element)"><mat-icon>edit</mat-icon></button> 
          <button mat-icon-button color="warn" (click)="delete(element.id)"  ><mat-icon>delete</mat-icon></button> 
          </ng-container> 
          
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="rowstyle"></tr>
        <tr mat-row  *matRowDef="let row; columns: displayedColumns;" ></tr>
    
      </table>

      <!-- <div class = "paragraph1">
        <button mat-raised-button color="primary" (click)="getAllPersons()" class = "submit ">Fetch</button>
            <!-- <input type = "submit" value="Submit"  (click)="onSubmit()" class = "submit"> 
      </div> -->